<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Getting started • EpiCompare</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cerulean/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Getting started">
<meta property="og:description" content="EpiCompare">
<meta property="og:image" content="/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">EpiCompare</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/getting-started.html">Getting started</a>
    </li>
    <li>
      <a href="../articles/not-built-vignettes/ternary-plots-explained.html">An Introduction to Ternary Plots</a>
    </li>
    <li>
      <a href="../articles/not-built-vignettes/comparing-bands-and-assessing-containment.html">Comparing Models (to Models) and Epidemics (to Models)</a>
    </li>
    <li>
      <a href="../articles/not-built-vignettes/depths-impact-on-prediction-bands.html">Understanding Prediction Bands and Impact of Quantile/Ordering Functions</a>
    </li>
    <li>
      <a href="../articles/not-built-vignettes/example-epimodel.html">Using EpiModel models with EpiCompare</a>
    </li>
    <li>
      <a href="../articles/not-built-vignettes/basic-abm.html">Basic simulations with EpiCompare</a>
    </li>
    <li class="divider">
    <li>
      <a href="../articles/index.html">More...</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/skgallagher/EpiCompare/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="getting-started_files/accessible-code-block-0.0.1/empty-anchor.js"></script><script src="getting-started_files/kePrint-0.0.1/kePrint.js"></script><link href="getting-started_files/lightable-0.0.1/lightable.css" rel="stylesheet">
<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Getting started</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/skgallagher/EpiCompare/blob/master/vignettes/getting-started.Rmd"><code>vignettes/getting-started.Rmd</code></a></small>
      <div class="hidden name"><code>getting-started.Rmd</code></div>

    </div>

    
    
<div id="installation" class="section level1">
<h1 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h1>
<p>To install <code>EpiCompare</code>, run the folllowing code.</p>
<div class="sourceCode" id="cb1"><html><body><pre class="r"><span class="kw">if</span>(!<span class="fu"><a href="https://rdrr.io/r/base/library.html">require</a></span>(<span class="no">EpiCompare</span>)){
  <span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">devtools</span>)
  <span class="kw pkg">devtools</span><span class="kw ns">::</span><span class="fu"><a href="https://devtools.r-lib.org//reference/remote-reexports.html">install_github</a></span>(<span class="st">"skgallagher/EpiCompare"</span>)
}
<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">EpiCompare</span>)</pre></body></html></div>
</div>
<div id="quickstart" class="section level1">
<h1 class="hasAnchor">
<a href="#quickstart" class="anchor"></a>Quickstart</h1>
<div class="sourceCode" id="cb2"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">ggplot2</span>)
<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">dplyr</span>)
<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">tidyr</span>)
<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">ggtern</span>)</pre></body></html></div>
<p>This “quickstart” guide presents how to:</p>
<ul>
<li>work with agent-based SIR data and how to leverage <code>geom_aggregate</code> to quickly compare groups of the population’s experience of the epidemic.</li>
<li>Visualizing and quantifying geometric uncertainty in SIR based data, using <code>agents_to_aggregate</code> to convert data from agents to aggregate, and leveraging <code>geom_prediction_band</code> to express uncertainty and centrality of simulations. This example also gives an example of the internal <code>simulate_SIR_agents</code> function.</li>
</ul>
<div id="measles-outbreak-in-hagelloch-germany-in-1861" class="section level2">
<h2 class="hasAnchor">
<a href="#measles-outbreak-in-hagelloch-germany-in-1861" class="anchor"></a>Measles outbreak in Hagelloch, Germany in 1861</h2>
<p>Our first example comes from a Measles outbreak in Hagelloch, Germany in 1861. We have data on each child (agent) in the town.The data we use (as seen below) has each child’s information relative to when they were reported to be infected and recovered along with information on their school class.</p>
<div class="sourceCode" id="cb3"><html><body><pre class="r"><span class="co">## Visualizing epidemic progression using EpiCompare</span>
<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">kableExtra</span>)
<span class="kw pkg">EpiCompare</span><span class="kw ns">::</span><span class="no"><a href="https://rdrr.io/pkg/EpiCompare/man/hagelloch_raw.html">hagelloch_raw</a></span> <span class="kw">%&gt;%</span> <span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span>() <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span>(<span class="no">PN</span>, <span class="no">NAME</span>, <span class="no">AGE</span>, <span class="no">SEX</span>,
         <span class="no">tPRO</span>, <span class="no">tERU</span>, <span class="no">tI</span>, <span class="no">tR</span>) <span class="kw">%&gt;%</span>
  <span class="kw pkg">knitr</span><span class="kw ns">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span>() <span class="kw">%&gt;%</span>
  <span class="kw pkg">kableExtra</span><span class="kw ns">::</span><span class="fu"><a href="https://rdrr.io/pkg/kableExtra/man/kable_styling.html">kable_styling</a></span>()</pre></body></html></div>
<table class="table table">
<thead><tr>
<th style="text-align:right;">
PN
</th>
<th style="text-align:left;">
NAME
</th>
<th style="text-align:right;">
AGE
</th>
<th style="text-align:left;">
SEX
</th>
<th style="text-align:right;">
tPRO
</th>
<th style="text-align:right;">
tERU
</th>
<th style="text-align:right;">
tI
</th>
<th style="text-align:right;">
tR
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
Mueller
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:left;">
female
</td>
<td style="text-align:right;">
22.71242
</td>
<td style="text-align:right;">
26.22541
</td>
<td style="text-align:right;">
21.71242
</td>
<td style="text-align:right;">
29.22541
</td>
</tr>
<tr>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
Mueller
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:left;">
female
</td>
<td style="text-align:right;">
24.21169
</td>
<td style="text-align:right;">
28.79112
</td>
<td style="text-align:right;">
23.21169
</td>
<td style="text-align:right;">
31.79112
</td>
</tr>
<tr>
<td style="text-align:right;">
3
</td>
<td style="text-align:left;">
Mueller
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:left;">
female
</td>
<td style="text-align:right;">
29.59102
</td>
<td style="text-align:right;">
33.69121
</td>
<td style="text-align:right;">
28.59102
</td>
<td style="text-align:right;">
36.69121
</td>
</tr>
<tr>
<td style="text-align:right;">
4
</td>
<td style="text-align:left;">
Seibold
</td>
<td style="text-align:right;">
13
</td>
<td style="text-align:left;">
male
</td>
<td style="text-align:right;">
28.11698
</td>
<td style="text-align:right;">
29.02866
</td>
<td style="text-align:right;">
27.11698
</td>
<td style="text-align:right;">
32.02866
</td>
</tr>
<tr>
<td style="text-align:right;">
5
</td>
<td style="text-align:left;">
Motzer
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:left;">
female
</td>
<td style="text-align:right;">
23.05953
</td>
<td style="text-align:right;">
28.41510
</td>
<td style="text-align:right;">
22.05953
</td>
<td style="text-align:right;">
31.41510
</td>
</tr>
<tr>
<td style="text-align:right;">
6
</td>
<td style="text-align:left;">
Motzer
</td>
<td style="text-align:right;">
12
</td>
<td style="text-align:left;">
male
</td>
<td style="text-align:right;">
27.95444
</td>
<td style="text-align:right;">
30.23918
</td>
<td style="text-align:right;">
26.95444
</td>
<td style="text-align:right;">
33.23918
</td>
</tr>
</tbody>
</table>
<p>One way to understand an epidemic is to view examine it through an “aggregate” lens. In <em>EpiCompare</em>, we can use the function <code>geom_aggregate</code>, which aggregates across agents to find the number of susceptible, infectious, and recovered agents at each time step and displays them in a ternary plot, which allows us to simultaneously view the <span class="math inline">\(S\)</span>, <span class="math inline">\(I\)</span>, and <span class="math inline">\(R\)</span> components.</p>
<div class="sourceCode" id="cb4"><html><body><pre class="r"><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme_get.html">theme_set</a></span>(<span class="fu"><a href="https://rdrr.io/pkg/EpiCompare/man/theme_sir.html">theme_sir</a></span>())

<span class="no">hagelloch_raw</span> <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span>(<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(<span class="kw">y</span> <span class="kw">=</span> <span class="no">tI</span>, <span class="kw">z</span> <span class="kw">=</span> <span class="no">tR</span>)) +
    <span class="fu"><a href="https://rdrr.io/pkg/EpiCompare/man/stat_aggregate.html">geom_aggregate</a></span>() +
    <span class="fu"><a href="https://rdrr.io/pkg/ggtern/man/coord_tern.html">coord_tern</a></span>() +
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span>(<span class="kw">x</span> <span class="kw">=</span> <span class="st">"S"</span>, <span class="kw">y</span> <span class="kw">=</span> <span class="st">"I"</span>, <span class="kw">z</span> <span class="kw">=</span> <span class="st">"R"</span>, <span class="kw">title</span> <span class="kw">=</span> <span class="st">"Town analysis"</span>)
<span class="co">#&gt; Coordinate system already present. Adding new coordinate system, which will replace the existing one.</span></pre></body></html></div>
<p><img src="getting-started_files/figure-html/unnamed-chunk-3-1.png" width="700" style="display: block; margin: auto;"></p>
<p>Previous work has suggested that the class (<code>CL</code>) the student was in effected how the experienced the outbreak. The below figure shows differences in the outbreak relative to this grouping.</p>
<div class="sourceCode" id="cb5"><html><body><pre class="r"><span class="no">hagelloch_raw</span> <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html">rename</a></span>(<span class="kw">`school grade`</span> <span class="kw">=</span> <span class="no">CL</span>) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span>(<span class="no">`school grade`</span>) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarize</a></span>(<span class="kw">`# of students`</span> <span class="kw">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/context.html">n</a></span>(),
            <span class="kw">.groups</span> <span class="kw">=</span> <span class="st">"drop"</span>) <span class="kw">%&gt;%</span>
  <span class="kw pkg">knitr</span><span class="kw ns">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span>() <span class="kw">%&gt;%</span>
  <span class="kw pkg">kableExtra</span><span class="kw ns">::</span><span class="fu"><a href="https://rdrr.io/pkg/kableExtra/man/kable_styling.html">kable_styling</a></span>()</pre></body></html></div>
<table class="table table">
<thead><tr>
<th style="text-align:left;">
school grade
</th>
<th style="text-align:right;">
# of students
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
preschool
</td>
<td style="text-align:right;">
90
</td>
</tr>
<tr>
<td style="text-align:left;">
1st class
</td>
<td style="text-align:right;">
30
</td>
</tr>
<tr>
<td style="text-align:left;">
2nd class
</td>
<td style="text-align:right;">
68
</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb6"><html><body><pre class="r"><span class="no">hagelloch_raw</span> <span class="kw">%&gt;%</span>
   <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span>(<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(<span class="kw">y</span> <span class="kw">=</span> <span class="no">tI</span>, <span class="kw">z</span> <span class="kw">=</span> <span class="no">tR</span>, <span class="kw">color</span> <span class="kw">=</span> <span class="no">CL</span>)) +
       <span class="fu"><a href="https://rdrr.io/pkg/EpiCompare/man/stat_aggregate.html">geom_aggregate</a></span>() +
       <span class="fu"><a href="https://rdrr.io/pkg/ggtern/man/coord_tern.html">coord_tern</a></span>() +
       <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span>(<span class="kw">x</span> <span class="kw">=</span> <span class="st">"S"</span>, <span class="kw">y</span> <span class="kw">=</span> <span class="st">"I"</span>, <span class="kw">z</span> <span class="kw">=</span> <span class="st">"R"</span>,
            <span class="kw">color</span> <span class="kw">=</span> <span class="st">"School grade"</span>,
            <span class="kw">title</span> <span class="kw">=</span> <span class="st">"Town analysis by grade"</span>) +
       <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_brewer.html">scale_color_brewer</a></span>(<span class="kw">type</span> <span class="kw">=</span> <span class="st">"qual"</span>)
<span class="co">#&gt; Coordinate system already present. Adding new coordinate system, which will replace the existing one.</span></pre></body></html></div>
<p><img src="getting-started_files/figure-html/unnamed-chunk-5-1.png" width="700" style="display: block; margin: auto;"></p>
</div>
<div id="agent-sir-simulations-models" class="section level2">
<h2 class="hasAnchor">
<a href="#agent-sir-simulations-models" class="anchor"></a>Agent SIR simulations models</h2>
<div id="simulating-epidemics-with-simulate_sir_agents-" class="section level3">
<h3 class="hasAnchor">
<a href="#simulating-epidemics-with-simulate_sir_agents-" class="anchor"></a>Simulating epidemics with <code>simulate_SIR_agents</code>.</h3>
<p>The below code simulates SIR data at the individual (or agent) level, aggregates it into SIR format, and plots it in the ``standard’’ view of <em>percent in state</em> vs. <em>time</em>.</p>
<div class="sourceCode" id="cb7"><html><body><pre class="r"><span class="no">n_sims</span> <span class="kw">&lt;-</span> <span class="fl">1</span>
<span class="no">n_time_steps</span> <span class="kw">&lt;-</span> <span class="fl">100</span>
<span class="no">beta</span> <span class="kw">&lt;-</span> <span class="fl">.1</span>
<span class="no">gamma</span> <span class="kw">&lt;-</span> <span class="fl">.03</span>
<span class="no">init_SIR</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">950</span>, <span class="fl">50</span>, <span class="fl">0</span>)

<span class="no">out</span> <span class="kw">&lt;-</span> <span class="kw pkg">EpiCompare</span><span class="kw ns">::</span><span class="fu"><a href="https://rdrr.io/pkg/EpiCompare/man/simulate_SIR_agents.html">simulate_SIR_agents</a></span>(<span class="kw">n_sims</span> <span class="kw">=</span> <span class="no">n_sims</span>,
                                 <span class="kw">n_time_steps</span> <span class="kw">=</span> <span class="no">n_time_steps</span>,
                                 <span class="kw">beta</span> <span class="kw">=</span> <span class="no">beta</span>, <span class="kw">gamma</span> <span class="kw">=</span> <span class="no">gamma</span>,
                                 <span class="kw">init_SIR</span> <span class="kw">=</span> <span class="no">init_SIR</span>)

<span class="no">df_ave</span> <span class="kw">&lt;-</span> <span class="no">out</span> <span class="kw">%&gt;%</span> <span class="fu"><a href="https://rdrr.io/pkg/EpiCompare/man/agents_to_aggregate.html">agents_to_aggregate</a></span>(<span class="kw">states</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="no">tI</span>, <span class="no">tR</span>)) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html">rename</a></span>(<span class="kw">S</span> <span class="kw">=</span> <span class="st">"X0"</span>, <span class="kw">I</span> <span class="kw">=</span> <span class="st">"X1"</span>, <span class="kw">R</span> <span class="kw">=</span> <span class="st">"X2"</span>) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span>(<span class="no">t</span>) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarize</a></span>(<span class="kw">S</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span>(<span class="no">S</span>), <span class="kw">I</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span>(<span class="no">I</span>), <span class="kw">R</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span>(<span class="no">R</span>),
            <span class="kw">.groups</span> <span class="kw">=</span> <span class="st">"drop"</span>)


<span class="no">df_ave_lines</span> <span class="kw">&lt;-</span> <span class="no">df_ave</span> <span class="kw">%&gt;%</span> <span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_longer.html">pivot_longer</a></span>(<span class="kw">names_to</span> <span class="kw">=</span> <span class="st">"State"</span>,
                                        <span class="kw">values_to</span> <span class="kw">=</span> <span class="st">"Value"</span>,
                                        <span class="kw">cols</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="no">S</span>, <span class="no">I</span>, <span class="no">R</span>))

<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span>(<span class="kw">data</span> <span class="kw">=</span> <span class="no">df_ave_lines</span>,
       <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(<span class="kw">x</span> <span class="kw">=</span> <span class="no">t</span>, <span class="kw">y</span> <span class="kw">=</span> <span class="no">Value</span>, <span class="kw">group</span> <span class="kw">=</span> <span class="no">State</span>, <span class="kw">col</span> <span class="kw">=</span> <span class="no">State</span>)) +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html">geom_line</a></span>()</pre></body></html></div>
<p><img src="getting-started_files/figure-html/unnamed-chunk-6-1.png" width="60%" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb8"><html><body><pre class="r">
<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span>(<span class="kw">data</span> <span class="kw">=</span> <span class="no">df_ave_lines</span>,
       <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(<span class="kw">x</span> <span class="kw">=</span> <span class="no">t</span>, <span class="kw">y</span> <span class="kw">=</span> <span class="no">Value</span>)) +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_grid.html">facet_grid</a></span>(<span class="no">State</span> ~ <span class="no">.</span>) +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html">geom_line</a></span>()</pre></body></html></div>
<p><img src="getting-started_files/figure-html/unnamed-chunk-6-2.png" width="60%" style="display: block; margin: auto;"></p>
<p>We visualize this simulation with a single line in the following way.</p>
<div class="sourceCode" id="cb9"><html><body><pre class="r"><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span>(<span class="kw">data</span> <span class="kw">=</span> <span class="no">df_ave</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(<span class="kw">x</span> <span class="kw">=</span> <span class="no">S</span>, <span class="kw">y</span> <span class="kw">=</span> <span class="no">I</span>, <span class="kw">z</span> <span class="kw">=</span> <span class="no">R</span>)) + <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html">geom_path</a></span>() +
  <span class="fu"><a href="https://rdrr.io/pkg/ggtern/man/coord_tern.html">coord_tern</a></span>()
<span class="co">#&gt; Coordinate system already present. Adding new coordinate system, which will replace the existing one.</span></pre></body></html></div>
<p><img src="getting-started_files/figure-html/unnamed-chunk-7-1.png" width="700" style="display: block; margin: auto;"></p>
</div>
<div id="simulating-and-visualizing-multiple-epidemics" class="section level3">
<h3 class="hasAnchor">
<a href="#simulating-and-visualizing-multiple-epidemics" class="anchor"></a>Simulating and visualizing multiple epidemics</h3>
<p>We can also simulation multiple epidemics with different parameters (and can also examine simulations from both <code>pomp</code> and <code>epiModels</code> packages).</p>
<p>Using the same simulation parameters above we can simulate 50 epidemics:</p>
<div class="sourceCode" id="cb10"><html><body><pre class="r"><span class="no">n_sims</span> <span class="kw">&lt;-</span> <span class="fl">50</span> <span class="co"># only code changed</span>
<span class="no">n_time_steps</span> <span class="kw">&lt;-</span> <span class="fl">100</span>
<span class="no">beta</span> <span class="kw">&lt;-</span> <span class="fl">.1</span>
<span class="no">gamma</span> <span class="kw">&lt;-</span> <span class="fl">.03</span>
<span class="no">init_SIR</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">950</span>, <span class="fl">50</span>, <span class="fl">0</span>)


<span class="no">out</span> <span class="kw">&lt;-</span> <span class="kw pkg">EpiCompare</span><span class="kw ns">::</span><span class="fu"><a href="https://rdrr.io/pkg/EpiCompare/man/simulate_SIR_agents.html">simulate_SIR_agents</a></span>(<span class="kw">n_sims</span> <span class="kw">=</span> <span class="no">n_sims</span>,
                                 <span class="kw">n_time_steps</span> <span class="kw">=</span> <span class="no">n_time_steps</span>,
                                 <span class="kw">beta</span> <span class="kw">=</span> <span class="no">beta</span>, <span class="kw">gamma</span> <span class="kw">=</span> <span class="no">gamma</span>,
                                 <span class="kw">init_SIR</span> <span class="kw">=</span> <span class="no">init_SIR</span>)</pre></body></html></div>
<p>We then use the <code>agents_to_aggregate</code> function to do the same thing (note that it preforms different for <code>grouped_df</code>s and standard <code>data.frame</code>s - as it’s a method):</p>
<div class="sourceCode" id="cb11"><html><body><pre class="r"><span class="no">df_group</span> <span class="kw">&lt;-</span> <span class="no">out</span> <span class="kw">%&gt;%</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span>(<span class="no">sim</span>) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/pkg/EpiCompare/man/agents_to_aggregate.html">agents_to_aggregate</a></span>(<span class="kw">states</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"tI"</span>, <span class="st">"tR"</span>)) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html">rename</a></span>(<span class="kw">S</span> <span class="kw">=</span> <span class="st">"X0"</span>, <span class="kw">I</span> <span class="kw">=</span> <span class="st">"X1"</span>, <span class="kw">R</span> <span class="kw">=</span> <span class="st">"X2"</span>)


<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span>(<span class="no">df_group</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(<span class="kw">x</span> <span class="kw">=</span> <span class="no">S</span>, <span class="kw">y</span> <span class="kw">=</span> <span class="no">I</span>, <span class="kw">z</span> <span class="kw">=</span> <span class="no">R</span>, <span class="kw">group</span> <span class="kw">=</span> <span class="no">sim</span>)) +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html">geom_path</a></span>(<span class="kw">alpha</span> <span class="kw">=</span> <span class="fl">.1</span>) +
  <span class="fu"><a href="https://rdrr.io/pkg/ggtern/man/coord_tern.html">coord_tern</a></span>()
<span class="co">#&gt; Coordinate system already present. Adding new coordinate system, which will replace the existing one.</span></pre></body></html></div>
<p><img src="getting-started_files/figure-html/unnamed-chunk-9-1.png" width="700" style="display: block; margin: auto;"></p>
<p>What’s more if we want to compare the original simulation with these new simulations (and see how well they match) we can do the following:</p>
<div class="sourceCode" id="cb12"><html><body><pre class="r"><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span>() +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html">geom_path</a></span>(<span class="kw">data</span> <span class="kw">=</span> <span class="no">df_ave</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(<span class="kw">x</span> <span class="kw">=</span> <span class="no">S</span>, <span class="kw">y</span> <span class="kw">=</span> <span class="no">I</span>, <span class="kw">z</span> <span class="kw">=</span> <span class="no">R</span>)) +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html">geom_path</a></span>(<span class="kw">data</span> <span class="kw">=</span> <span class="no">df_group</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(<span class="kw">x</span> <span class="kw">=</span> <span class="no">S</span>, <span class="kw">y</span> <span class="kw">=</span> <span class="no">I</span>, <span class="kw">z</span> <span class="kw">=</span> <span class="no">R</span>, <span class="kw">group</span> <span class="kw">=</span> <span class="no">sim</span>),
       <span class="kw">alpha</span> <span class="kw">=</span> <span class="fl">.1</span>) +
  <span class="fu"><a href="https://rdrr.io/pkg/ggtern/man/coord_tern.html">coord_tern</a></span>()
<span class="co">#&gt; Warning: Ignoring unknown aesthetics: z</span>

<span class="co">#&gt; Warning: Ignoring unknown aesthetics: z</span>
<span class="co">#&gt; Coordinate system already present. Adding new coordinate system, which will replace the existing one.</span></pre></body></html></div>
<p><img src="getting-started_files/figure-html/unnamed-chunk-10-1.png" width="700" style="display: block; margin: auto;"></p>
<p>How extreme is the first simulation compared to the rest? Let’s create a empirical 95% prediction band from the later simulations.</p>
<div class="sourceCode" id="cb13"><html><body><pre class="r"><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span>() +
  <span class="fu"><a href="https://rdrr.io/pkg/EpiCompare/man/geom_prediction_band.html">geom_prediction_band</a></span>(<span class="kw">data</span> <span class="kw">=</span> <span class="no">df_group</span>,
                       <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(<span class="kw">x</span> <span class="kw">=</span> <span class="no">S</span>, <span class="kw">y</span> <span class="kw">=</span> <span class="no">I</span>, <span class="kw">z</span> <span class="kw">=</span> <span class="no">R</span>,
                           <span class="kw">sim_group</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html">as.numeric</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/character.html">as.character</a></span>(<span class="no">sim</span>))),
                       <span class="kw">fill</span> <span class="kw">=</span> <span class="st">"blue"</span>, <span class="kw">color</span> <span class="kw">=</span> <span class="fl">NA</span>, <span class="kw">alpha</span> <span class="kw">=</span> <span class="fl">.2</span>,
                       <span class="kw">conf_level</span> <span class="kw">=</span> <span class="fl">.95</span>, <span class="kw">grid_size</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span>(<span class="fl">100</span>, <span class="fl">2</span>),
                       <span class="kw">pb_type</span> <span class="kw">=</span> <span class="st">"delta_ball"</span>
                       ) +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html">geom_path</a></span>(<span class="kw">data</span> <span class="kw">=</span> <span class="no">df_ave</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(<span class="kw">x</span> <span class="kw">=</span> <span class="no">S</span>, <span class="kw">y</span> <span class="kw">=</span> <span class="no">I</span>, <span class="kw">z</span> <span class="kw">=</span> <span class="no">R</span>)) +
  <span class="fu"><a href="https://rdrr.io/pkg/ggtern/man/coord_tern.html">coord_tern</a></span>()
<span class="co">#&gt; Warning: Ignoring unknown aesthetics: z</span>
<span class="co">#&gt; Coordinate system already present. Adding new coordinate system, which will replace the existing one.</span>
<span class="co">#&gt; Due to dist_params$dist_approach = "equa_dist", this may take a little while - see `filament_compression` examples for a work-around if you're making this plot multiple times</span></pre></body></html></div>
<p><img src="getting-started_files/figure-html/unnamed-chunk-11-1.png" width="700" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb14"><html><body><pre class="r"># note: the error message actually comes from the geom_path</pre></body></html></div>
<p>Here’s a demo of all current geometric tools to create prediction bands:</p>
<div class="sourceCode" id="cb15"><html><body><pre class="r"><span class="no">vis_data</span> <span class="kw">&lt;-</span> <span class="kw pkg">EpiCompare</span><span class="kw ns">::</span><span class="no"><a href="https://rdrr.io/pkg/EpiCompare/man/pomp_df.html">pomp_df</a></span> <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html">rename</a></span>(<span class="kw">x</span> <span class="kw">=</span> <span class="st">"S"</span>, <span class="kw">y</span> <span class="kw">=</span> <span class="st">"I"</span>, <span class="kw">z</span> <span class="kw">=</span> <span class="st">"R"</span>) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span>(<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(<span class="kw">x</span> <span class="kw">=</span> <span class="no">x</span>, <span class="kw">y</span> <span class="kw">=</span><span class="no">y</span>, <span class="kw">z</span> <span class="kw">=</span> <span class="no">z</span>, <span class="kw">group</span> <span class="kw">=</span> <span class="no">.id</span>)) +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html">geom_path</a></span>(<span class="kw">alpha</span> <span class="kw">=</span> <span class="fl">.03</span>) +
  <span class="fu"><a href="https://rdrr.io/pkg/ggtern/man/coord_tern.html">coord_tern</a></span>() +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span>(<span class="kw">title</span> <span class="kw">=</span> <span class="st">"Actual simulation paths"</span>)
<span class="co">#&gt; Coordinate system already present. Adding new coordinate system, which will replace the existing one.</span>

<span class="no">vis_spherical</span> <span class="kw">&lt;-</span> <span class="kw pkg">EpiCompare</span><span class="kw ns">::</span><span class="no"><a href="https://rdrr.io/pkg/EpiCompare/man/pomp_df.html">pomp_df</a></span> <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html">rename</a></span>(<span class="kw">x</span> <span class="kw">=</span> <span class="st">"S"</span>, <span class="kw">y</span> <span class="kw">=</span> <span class="st">"I"</span>, <span class="kw">z</span> <span class="kw">=</span> <span class="st">"R"</span>, <span class="kw">t</span> <span class="kw">=</span> <span class="st">"time"</span>) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span>(<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(<span class="kw">x</span> <span class="kw">=</span> <span class="no">x</span>, <span class="kw">y</span> <span class="kw">=</span> <span class="no">y</span>, <span class="kw">z</span> <span class="kw">=</span> <span class="no">z</span>, <span class="kw">t</span> <span class="kw">=</span> <span class="no">t</span>)) +
  <span class="fu"><a href="https://rdrr.io/pkg/EpiCompare/man/geom_prediction_band.html">geom_prediction_band</a></span>(<span class="kw">pb_type</span> <span class="kw">=</span> <span class="st">"spherical_ball"</span>,
                       <span class="kw">grid_size</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span>(<span class="fl">100</span>,<span class="fl">2</span>),
                       <span class="kw">conf_level</span> <span class="kw">=</span> <span class="fl">.95</span>) +
  <span class="fu"><a href="https://rdrr.io/pkg/ggtern/man/coord_tern.html">coord_tern</a></span>() +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span>(<span class="kw">title</span> <span class="kw">=</span> <span class="st">"Spherical CB"</span>)
<span class="co">#&gt; Coordinate system already present. Adding new coordinate system, which will replace the existing one.</span>

<span class="no">vis_delta_ball</span> <span class="kw">&lt;-</span> <span class="kw pkg">EpiCompare</span><span class="kw ns">::</span><span class="no"><a href="https://rdrr.io/pkg/EpiCompare/man/pomp_df.html">pomp_df</a></span> <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html">rename</a></span>(<span class="kw">x</span> <span class="kw">=</span> <span class="st">"S"</span>, <span class="kw">y</span> <span class="kw">=</span> <span class="st">"I"</span>, <span class="kw">z</span> <span class="kw">=</span> <span class="st">"R"</span>) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span>(<span class="kw">.id</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html">as.numeric</a></span>(<span class="no">.id</span>)) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span>(<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(<span class="kw">x</span> <span class="kw">=</span> <span class="no">x</span>, <span class="kw">y</span> <span class="kw">=</span> <span class="no">y</span>, <span class="kw">z</span> <span class="kw">=</span> <span class="no">z</span>, <span class="kw">sim_group</span> <span class="kw">=</span> <span class="no">.id</span>)) +
  <span class="fu"><a href="https://rdrr.io/pkg/EpiCompare/man/geom_prediction_band.html">geom_prediction_band</a></span>(<span class="kw">pb_type</span> <span class="kw">=</span> <span class="st">"delta_ball"</span>,
                       <span class="kw">grid_size</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span>(<span class="fl">100</span>,<span class="fl">2</span>),
                       <span class="kw">conf_level</span> <span class="kw">=</span> <span class="fl">.95</span>) +
  <span class="fu"><a href="https://rdrr.io/pkg/ggtern/man/coord_tern.html">coord_tern</a></span>() +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span>(<span class="kw">title</span> <span class="kw">=</span> <span class="st">"Delta-ball CB"</span>)
<span class="co">#&gt; Coordinate system already present. Adding new coordinate system, which will replace the existing one.</span>

<span class="no">vis_kde</span> <span class="kw">&lt;-</span> <span class="kw pkg">EpiCompare</span><span class="kw ns">::</span><span class="no"><a href="https://rdrr.io/pkg/EpiCompare/man/pomp_df.html">pomp_df</a></span> <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html">rename</a></span>(<span class="kw">x</span> <span class="kw">=</span> <span class="st">"S"</span>, <span class="kw">y</span> <span class="kw">=</span> <span class="st">"I"</span>, <span class="kw">z</span> <span class="kw">=</span> <span class="st">"R"</span>) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span>(<span class="kw">.id</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html">as.numeric</a></span>(<span class="no">.id</span>)) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span>(<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(<span class="kw">x</span> <span class="kw">=</span> <span class="no">x</span>, <span class="kw">y</span> <span class="kw">=</span> <span class="no">y</span>, <span class="kw">z</span> <span class="kw">=</span> <span class="no">z</span>, <span class="kw">sim_group</span> <span class="kw">=</span> <span class="no">.id</span>)) +
  <span class="fu"><a href="https://rdrr.io/pkg/EpiCompare/man/geom_prediction_band.html">geom_prediction_band</a></span>(<span class="kw">pb_type</span> <span class="kw">=</span> <span class="st">"kde"</span>,
                       <span class="kw">grid_size</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span>(<span class="fl">100</span>,<span class="fl">2</span>),
                       <span class="kw">conf_level</span> <span class="kw">=</span> <span class="fl">.95</span>) +
  <span class="fu"><a href="https://rdrr.io/pkg/ggtern/man/coord_tern.html">coord_tern</a></span>() +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span>(<span class="kw">title</span> <span class="kw">=</span> <span class="st">"KDE CB"</span>)
<span class="co">#&gt; Coordinate system already present. Adding new coordinate system, which will replace the existing one.</span>

<span class="no">vis_convex_hull</span> <span class="kw">&lt;-</span> <span class="kw pkg">EpiCompare</span><span class="kw ns">::</span><span class="no"><a href="https://rdrr.io/pkg/EpiCompare/man/pomp_df.html">pomp_df</a></span> <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html">rename</a></span>(<span class="kw">x</span> <span class="kw">=</span> <span class="st">"S"</span>, <span class="kw">y</span> <span class="kw">=</span> <span class="st">"I"</span>, <span class="kw">z</span> <span class="kw">=</span> <span class="st">"R"</span>) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span>(<span class="kw">.id</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html">as.numeric</a></span>(<span class="no">.id</span>)) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span>(<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(<span class="kw">x</span> <span class="kw">=</span> <span class="no">x</span>, <span class="kw">y</span> <span class="kw">=</span> <span class="no">y</span>, <span class="kw">z</span> <span class="kw">=</span> <span class="no">z</span>, <span class="kw">sim_group</span> <span class="kw">=</span> <span class="no">.id</span>)) +
  <span class="fu"><a href="https://rdrr.io/pkg/EpiCompare/man/geom_prediction_band.html">geom_prediction_band</a></span>(<span class="kw">pb_type</span> <span class="kw">=</span> <span class="st">"convex_hull"</span>,
            <span class="kw">conf_level</span> <span class="kw">=</span> <span class="fl">.95</span>) +
  <span class="fu"><a href="https://rdrr.io/pkg/ggtern/man/coord_tern.html">coord_tern</a></span>() +
 <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span>(<span class="kw">title</span> <span class="kw">=</span> <span class="st">"Convex hull CB"</span>)
<span class="co">#&gt; Coordinate system already present. Adding new coordinate system, which will replace the existing one.</span>

<span class="fu"><a href="https://rdrr.io/pkg/ggtern/man/arrangeGrob.html">grid.arrange</a></span>(<span class="no">vis_data</span>, <span class="no">vis_spherical</span>,
             <span class="no">vis_delta_ball</span>, <span class="no">vis_kde</span>,
             <span class="no">vis_convex_hull</span>, <span class="kw">nrow</span> <span class="kw">=</span> <span class="fl">2</span>)
<span class="co">#&gt; Due to dist_params$dist_approach = "equa_dist", this may take a little while - see `filament_compression` examples for a work-around if you're making this plot multiple times</span>
<span class="co">#&gt; Due to dist_params$dist_approach = "equa_dist", this may take a little while - see `filament_compression` examples for a work-around if you're making this plot multiple times</span></pre></body></html></div>
<p><img src="getting-started_files/figure-html/unnamed-chunk-12-1.png" width="864" style="display: block; margin: auto;"></p>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by <a href="https://skgallagher.github.io/">Shannon Gallagher</a>, <a href="https://benjaminleroy.github.io/">Benjamin LeRoy</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
